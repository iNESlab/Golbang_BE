# nginx-rtmp 미디어 서버용 Dockerfile
FROM tiangolo/nginx-rtmp:latest

# 설정 파일 복사
COPY ./nginx.conf /etc/nginx/nginx.conf

# HLS 디렉토리 생성
RUN mkdir -p /var/hls && chmod 755 /var/hls

# 통계 페이지용 XSL 파일
RUN mkdir -p /etc/nginx/html

# 포트 노출
EXPOSE 80 1935

# nginx 실행
CMD ["nginx", "-g", "daemon off;"]